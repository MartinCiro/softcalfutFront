# --- Fase de construcción ---
FROM node:20-alpine

WORKDIR /usr/src/app

# 1. Copia archivos esenciales primero (mejor caché de Docker)
COPY package.json package-lock.json ./

# 2. Instalación con caché de npm
RUN npm install --legacy-peer-deps

# Exponer puertos de desarrollo
EXPOSE 5173

# 3. Copia el código fuente
COPY . .
